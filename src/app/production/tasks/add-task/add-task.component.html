<mat-card>Add new task</mat-card>

<div class="container" [formGroup]="form">

  <mat-form-field class="theme-form">
    <mat-label>Name</mat-label>
      <input matInput placeholder="Name" name="name" formControlName="name" required>
  </mat-form-field>

  <mat-form-field class="theme-form">
    <mat-label>Details</mat-label>
    <input matInput placeholder="Details" name="details" formControlName="details">
  </mat-form-field>

  <mat-form-field>
    <mat-label>Preceding tasks</mat-label>
    <mat-select placeholder="Preceding tasks" formControlName="precedingTaskIds" multiple>
      <mat-option *ngFor="let p of precedingTasks" [value]="p.id">{{p.id}} {{p.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Assignee</mat-label>
    <mat-select placeholder="Assignee" formControlName="assigneeId">
      <mat-option *ngFor="let a of assignees" [value]="a.id">{{a.firstName}} {{a.lastName}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Estimated time (in minutes)" type="number" [formControl]="estimatedTime" required>
  </mat-form-field>

  <button type="submit" [disabled]="form.invalid" mat-raised-button>Add task</button>

</div>

<form #form="ngForm" (ngSubmit)="submitForm()">
  <div class="form-group">
    <label>Przewidywany czas wykonania:
      <input type="number" class="form-control" name="estimatedTimeInMinutes" [(ngModel)]="estimatedTimeInMinutes" required>
    </label>
  </div>
  <div class="form-group">
    <label>Ostateczny termin:
      <input type="datetime-local" class="form-control" name="deadline" [(ngModel)]="deadline" required>
    </label>
  </div>
  <div class="form-group">
    <label>Type:
      <select name="category" [(ngModel)]="type" required>
        <option *ngFor="let t of types" [value]="t">{{t}}</option>
      </select>
    </label>
  </div>
  <!-- If I have complaints and returns it will be select -->
  <div class="form-group">
    <label>Reference:
      <input type="number" class="form-control" name="reference" [(ngModel)]="reference" required>
    </label>
  </div>
  <div class="form-group">
    <label>Planowa data rozpoczÄ™cia:
      <input type="datetime-local" class="form-control" name="scheduledTime" [(ngModel)]="scheduledTime" required>
    </label>
  </div>
</form>
